<div class="d-flex justify-content-between my-2">
    <h3>Filter Operator</h3>
    <div>
      <button type="button"  class="btn btn-primary btn-sm" (click)="redirectToObservable()">Back to List</button>
    </div>
</div>
<div class="text-danger">Depricated in RxJs, Used normal Javascript Filter method for this scenario</div>
<div><p>It is use to transform the data based on required condition</p> </div>
<div class="row filter-operator">
    <div class="col-md-4 mb-2">
        <div class="card text-white bg-dark" >
            <div class="card-body">
                <h6 class="card-title text-warning">
                    Sample Data
                </h6>     
                <div class="mt-3">
                    <table class="table table-dark table-bordered">
                        <thead>
                            <th scope="row">Id</th>
                            <th scope="row">Name</th>
                            <th scope="row">Gender</th>
                        </thead>
                        <tbody>
                            <tr class="table-active" *ngFor="let item of sampleData">
                                <td>{{item.id}}</td>
                                <td>{{item.name}}</td>
                                <td>{{item.gender}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>            
            </div>
        </div>
    </div>
    <div class="col-md-8 mb-2">
        <div class="card text-white bg-dark">
            <div class="card-body">
                <h6 class="card-title text-warning">
                    Filter By 
                </h6>    
                <div class="row justify-content-between">
                    <div class="col-md-4">
                        <label for="column">Select Column</label>
                        <select class="form-select" [(ngModel)]="selelctedColumn" aria-label="Default Column" 
                        (change)="selectedFilterData('column')" >
                            <option [value]="item" *ngFor="let item of columnNames">{{item}}</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <label for="condition">Select Condition</label>
                        <select class="form-select" [(ngModel)]="selelctedCondition" aria-label="Default Condition" 
                        (change)="selectedFilterData('condition')" >
                            <option  [value]="item" *ngFor="let item of conditions">{{item}}</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="value">Enter Value</label>
                        <input [type]="selelctedColumn == 'id'? 'number' : 'text'" class="form-control" [(ngModel)]="filterValue">
                    </div>   
                    <div  class="col-md-2 align-self-end">
                        <button type="button" class="btn btn-secondary" [ngClass]="{'disabled-btn': (!selelctedColumn || !selelctedCondition || !filterValue)}" (click)="applyFilter()">Apply</button>
                    </div>
                </div> 
                <div class="mt-2"><b>Sample Syntax : </b> <span class="text-warning"> map&#40;item => &#123; 
                    {{selelctedColumn ?   'item.'+selelctedColumn +' '+selelctedCondition+' '+filterValue : '' }}
                    &#125; &#41;</span></div>  
                <div class="mt-3">
                    <div class="d-flex justify-content-between">
                        <div class="text-warning fw-bold">{{(result?.length > 0 ? result?.length : 0) + ' Records' }}</div>
                        <div (click)="refreshtable()"><i title="Refresh Table" class="bi bi-arrow-clockwise"></i></div>
                    </div>
                    <table class="table table-dark table-bordered">
                        <thead>
                            <th scope="row">Id</th>
                            <th scope="row">Name</th>
                            <th scope="row">Gender</th>
                        </thead>
                        <tbody>
                            <tr class="table-active" *ngFor="let item of result">
                                <td>{{item.id}}</td>
                                <td>{{item.name}}</td>
                                <td>{{item.gender}}</td>
                            </tr>               
                            <tr *ngIf="result?.length < 1">
                                <td colspan="3">No Result</td>                           
                            </tr>            
                        </tbody>
                    </table>
                </div>            
            </div>
        </div>
    </div>
</div>